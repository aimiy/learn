<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
    <script src="1.js"></script>
</head>
<body>
  <form action="" method="" onsubmit="test()">
     <input type="file"  style="width: 500px;" onchange="fileChange(this);"/>
     <br>
     <input type="submit" value="Submit"/>
 </form>
 <script>
   var flag = false;
   var isIE = /msie/i.test(navigator.userAgent) && !window.opera;
   function fileChange(target){
       console.log(target.files)
      var fileSize = 0;
         if (isIE && !target.files) {    // IE浏览器
            var filePath = target.value; // 获得上传文件的绝对路径
            var fileSystem = new ActiveXObject("Scripting.FileSystemObject");
             // GetFile(path) 方法从磁盘获取一个文件并返回。
             var file = fileSystem.GetFile(filePath);
             fileSize = file.Size;    // 文件大小，单位：b
         }
         else {    // 非IE浏览器
         	fileSize = target.files[0].size;
         }
         var size = fileSize / 1024 / 1024;
         if (size<4) {
         	flag = true;
         }else{
         	flag = false;
         }
         console.log(flag);
         console.log("文件大小为：" + size + "M");
     }

     function test(){
      if (flag === true) {
         alert("能提交");
         return true;
     }else{
         alert("不能提交");
         return false;
     }	
 }
</script>
<script>
    // var idMap = new Map();
    // idMap.set(1, "和键'a string'关联的值");
    // idMap.set(2, "和键keyObj关联的值");
    // idMap.set(3, "和键keyFunc关联的值");
    // console.log(idMap);

    // for(var [id, value] of idMap){
    //     console.log(id);
    //     console.log(value);  
    // }
    // var a = [];
    // a[0] = 0;
    // a[3] = 2;
    
    console.log(NEWS.StorageGetter('background_color'));
</script>
</body>
</html>