<script>
    // function compose(...args) {
    //     return function (val) {
    //         return args.reverse().reduce((total, currentFunc) => {
    //             return currentFunc(total)
    //         }, val)
    //     }
    // }

    // reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。
    // reduce() 可以作为一个高阶函数，用于函数的 compose。
    // 注意: reduce() 对于空数组是不会执行回调函数的。

    const compose = (...args) => (val) => args.reverse().reduce((total, currentFunc) => currentFunc(total), val)

    const reverse = (array) => array.reverse();
    const first = (array) => array[0];
    const toUpper = str => str.toUpperCase();

    const last = compose(toUpper, first, reverse);
    console.log(last(["a", "b"]))
</script>